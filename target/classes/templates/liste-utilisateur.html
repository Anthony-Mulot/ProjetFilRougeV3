<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:replace="base :: head">
</head>
<header th:replace="base :: header">
</header>
<body class="bg-white">


<div class="table-responsive-sm ">
    <table class="table bg-white border-primary">

        <thead class="thead-dark font-weight-bold text-light border-primary">
        <tr>
            <th  scope="col">#</th>
            <th scope="col">id</th>
            <th scope="col">Prenom</th>
            <th scope="col">Nom</th>
            <th scope="col">Email</th>
            <th scope="col">role</th>
<!--            <th scope="col">Id(debug)</th>-->
            <th scope="col">adresse</th>
            <th scope="col">villes</th>
            <th scope="col">telephone</th>
            <th scope="col">Date de naissance</th>
            <th scope="col">Date de creation du compte</th>
            <th scope="col">Nombre de commande pass√©</th>
            <th th:if="${role == 'ROLE_ADMIN' || role  != 'ROLE_EDITEUR'}" scope="col">Edition</th>
            <th th:if="${role  == 'ROLE_ADMIN'}" scope="col">Suppression</th>

        </tr>
        </thead>
        <tbody class="text-dark font-weight-bold border-primary">
        <tr th:each="utilisateur : ${utilisateurs}" >
            <th scope="row"></th>
            <td th:text="${utilisateur.id}"></td>
            <td  th:text="${utilisateur.nickname} "></td>
            <td th:text="${utilisateur.name}" ></td>
            <td th:text="${utilisateur.email}"></td>
            <td th:text="${utilisateur.role.name}"></td>
<!--            <td th:text="${utilisateur.role.id}"></td>-->
            <td th:text="${utilisateur.adresse}"></td>
            <td th:text="${utilisateur.ville}"></td>
            <td th:text="${utilisateur.telephone}"></td>
            <td th:text="${utilisateur.dateNaissance}"></td>
            <td th:text="${utilisateur.dateCreationCompte}"></td>
            <td th:text="${utilisateur.nombreCommandePasse}"></td>

            <td th:if="${role == 'ROLE_ADMIN'}" ><a th:href="'edit/edit-utilisateur/' + ${utilisateur.id}" class="badge badge-success">Editer</a></td>
            <td th:if="${role == 'ROLE_ADMIN'}" ><a th:href="'admin/suppression-utilisateur/' + ${utilisateur.id}" class="badge badge-danger">Supprimer</a></td>

        </tr>
        </tbody>



    </table>
</div>

<div class="text-center pt-5">
    <a href="/edit/edit-utilisateur" type="button" class="btn btn-primary">Ajouter un utilisateur</a>

</div>

</body>
</html>
